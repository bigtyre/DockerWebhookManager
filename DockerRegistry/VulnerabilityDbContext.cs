using Microsoft.EntityFrameworkCore;
using static DockerRegistryUI.Data.VulnerabilityConfiguration;

namespace DockerRegistryUI.Data;

public class VulnerabilityDbContext : DbContext
{
    public VulnerabilityDbContext(DbContextOptions<VulnerabilityDbContext> options)
        : base(options)
    {

    }

    public DbSet<SavedVulnerabilityScan> VulnerabilityScans { get; set; }
    public DbSet<SavedVulnerability> Vulnerabilities { get; set; }
    public DbSet<VulnerabilityDescription> VulnerabilityDescriptions { get; set; }


    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.ApplyConfiguration(new VulnerabilityScanConfiguration());
        modelBuilder.ApplyConfiguration(new VulnerabilityConfiguration());
        modelBuilder.ApplyConfiguration(new VulnerabilityDescriptionConfiguration());
    }
}
