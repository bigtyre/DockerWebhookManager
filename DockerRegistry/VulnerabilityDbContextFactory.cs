using Microsoft.Extensions.DependencyInjection;

namespace DockerRegistryUI.Data;

public class VulnerabilityDbContextFactory(IServiceProvider serviceProvider)
{
    public VulnerabilityDbContext Create()
    {
        var scope = serviceProvider.CreateScope();
        var scopeServiceProvider = scope.ServiceProvider;

        var dbContext = scopeServiceProvider.GetRequiredService<VulnerabilityDbContext>();
        return dbContext;
    }
}
